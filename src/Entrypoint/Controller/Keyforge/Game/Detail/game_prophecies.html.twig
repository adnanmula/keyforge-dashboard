<h5>{{ 'menu.prophecies_stats'|trans }}</h5>

<div class="row">
    <div class="col-md-6">
        <table class="table table-sm table-borderless">
            <thead>
            <tr>
                <th>{{ log.winner.name }}</th>
                <th>{{ 'menu.activated'|trans }}</th>
                <th>{{ 'game.timeline.fulfilled'|trans }}</th>
                <th>%</th>
            </tr>
            </thead>
            <tbody>
            {% for prophecy, data in log.winner.timeline.propheciesSummary.prophecies %}
                <tr>
                    <td>{{ prophecy }}</td>
                    <td>{{ data.activated }}</td>
                    <td>{{ data.fulfilled }}</td>
                    <td>{{ data.percent }}%</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="col-md-6">
        <table class="table table-sm table-borderless">
            <thead>
            <tr>
                <th>{{ log.loser.name }}</th>
                <th>{{ 'menu.activated'|trans }}</th>
                <th>{{ 'game.timeline.fulfilled'|trans }}</th>
                <th>%</th>
            </tr>
            </thead>
            <tbody>
            {% for prophecy, data in log.loser.timeline.propheciesSummary.prophecies %}
                <tr>
                    <td>{{ prophecy }}</td>
                    <td>{{ data.activated }}</td>
                    <td>{{ data.fulfilled }}</td>
                    <td>{{ data.percent }}%</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<div class="divider py-1"></div><hr><div class="divider py-1"></div>

<div class="d-flex align-items-center justify-content-between mb-2">
    <h5 class="mb-0">{{ 'menu.fates_stats'|trans }}</h5>
    <div class="form-check form-switch me-4">
        <input class="form-check-input" type="checkbox" id="hideWithoutFate">
        <label class="form-check-label" for="hideWithoutFate">
            {{ 'menu.hide_without_fate'|trans }}
        </label>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <table class="table table-sm table-borderless">
            <thead>
            <tr>
                <th>{{ log.winner.name }}</th>
                <th>{{ 'game.timeline.resolved2'|trans }}</th>
                <th>{{ 'menu.has_fate'|trans }}</th>
                <th>%</th>
            </tr>
            </thead>
            <tbody>
            {% for fate, data in log.winner.timeline.propheciesSummary.fates %}
                <tr class="{% if false == data.has_fate %}resolvedWithoutFate{% endif %}">
                    <td>{{ fate }}</td>
                    <td>{{ data.resolved }}</td>
                    <td>{% if data.has_fate %}{{ 'menu.yes'|trans }}{% else %}{{ 'menu.no'|trans }}{% endif %}</td>
                    <td>{{ data.percent }}%</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="col-md-6">
        <table class="table table-sm table-borderless">
            <thead>
            <tr>
                <th>{{ log.loser.name }}</th>
                <th>{{ 'game.timeline.resolved2'|trans }}</th>
                <th>{{ 'menu.has_fate'|trans }}</th>
                <th>%</th>
            </tr>
            </thead>
            <tbody>
            {% for fate, data in log.loser.timeline.propheciesSummary.fates %}
                <tr class="{% if false == data.has_fate %}resolvedWithoutFate{% endif %}">
                    <td>{{ fate }}</td>
                    <td>{{ data.resolved }}</td>
                    <td>{% if data.has_fate %}{{ 'menu.yes'|trans }}{% else %}{{ 'menu.no'|trans }}{% endif %}</td>
                    <td>{{ data.percent }}%</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<script>
    $(document).ready(function () {
        $('#hideWithoutFate').on('change', function () {
            if ($(this).is(':checked')) {
                $('.resolvedWithoutFate').hide();
            } else {
                $('.resolvedWithoutFate').show();
            }
        });
    });
</script>